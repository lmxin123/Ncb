String.format=function(){var t,n,i;if(arguments.length===0)return null;for(t=arguments[0],n=1;n<arguments.length;n++)i=new RegExp("\\{"+(n-1)+"\\}","gm"),t=t.replace(i,arguments[n]);return t};String.prototype.startWidth=function(n){return this===null||this===""||this.length===0||n.length>this.length?!1:this.substr(0,n.length)===n?!0:!1};String.prototype.endWith=function(n){return n===null||n===""||this.length===0||n.length>this.length?!1:this.substring(this.length-n.length)===n?!0:!1};Array.prototype.remove=function(n){for(var t=this.length;t--;)this[t]===n&&this.splice(t,1)};String.prototype.replaceAll=function(n,t){return this.split(n).join(t)};String.prototype.isUrl=function(){var n=new RegExp("^(http|https|ftp)://([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&amp;%$-]+)*@)*((25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]).(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0).(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0).(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[0-9])|([a-zA-Z0-9-]+.)*[a-zA-Z0-9-]+.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(/($|[a-zA-Z0-9.,?'\\+&amp;%$#=~_-]+))*$");return n.test(this.toString())};+function(n,t,i){"use strict";var r=function(){};r.config={rootPath:"",absPath:location.host,homeUrl:"",cdnUrl:""};r.previewImage=function(n,i,r){var f,u;t.navigator.userAgent.indexOf("MSIE")>=1?(n.select(),f=document.selection.createRange().text,n.removeAttribute("src"),n.setAttribute("src",n.value),n.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+f+"', sizingMethod='scale');",r&&typeof r=="function"&&r(n.value)):(u=new FileReader,u.onload=function(t){n.setAttribute("src",t.target.result);r&&typeof r=="function"&&r(t.target.result)},u.readAsDataURL(i))};r.isIE=function(){return!!t.ActiveXObject||"ActiveXObject"in t?!0:!1};r.createAjaxOpt=function(n,t,i){return{dataType:"json",async:i||!0,type:t||"POST",contentType:"application/json;charset=utf-8",data:JSON.stringify(n),processData:!0}};r.insertHTML=function(n,t,i){if(!n)return!1;if(t=t.toLowerCase(),n.insertAdjacentHTML)n.insertAdjacentHTML(t,i);else{var r=n.ownerDocument.createRange(),u=null;switch(t){case"beforebegin":return r.setStartBefore(el),u=r.createContextualFragment(i),n.parentNode.insertBefore(u,el),n.previousSibling;case"afterbegin":return n.firstChild?(r.setStartBefore(n.firstChild),u=r.createContextualFragment(i),n.insertBefore(u,n.firstChild)):n.innerHTML=i,n.firstChild;case"beforeend":return n.lastChild?(r.setStartAfter(n.lastChild),u=r.createContextualFragment(i),n.appendChild(u)):n.innerHTML=i,n.lastChild;case"afterend":return r.setStartAfter(el),u=r.createContextualFragment(i),n.parentNode.insertBefore(u,n.nextSibling),n.nextSibling}}};r.proxy=function(n,t){if(typeof n=="function")return t||(t=this),function(){n.apply(t,arguments)}};r.alert=function(){var t={timeOut:2800,autoClose:!0},i,r;return typeof arguments[0]=="string"?t.msg=arguments[0]:typeof arguments[0]=="object"&&(t=arguments[0]),arguments.length>1&&(typeof arguments[1]=="function"&&(t.callback=arguments[1]),typeof arguments[1]=="number"&&(t.timeOut=arguments[1]),typeof arguments[1]=="boolean"&&(t.autoClose=arguments[1]),typeof arguments[1]=="object"&&(t.msg=arguments[1].msg||t.msg,t.timeOut=arguments[1].timeOut||1500,t.onHidden=arguments[1].onHidden,t.callback=arguments[1].callback)),i=n.getElementById("motify"),r=this,this.msgDiv=null,this.close=function(n){setTimeout(function(){i.style.display="none";typeof t.onHidden=="function"&&t.onHidden(r)},n||t.timeOut)},this.show=function(){i.style.display="block";typeof t.callback=="function"?t.callback(r):t.autoClose&&this.close()},this.setMsg=function(n){r.msgDiv.innerHTML=n},i===null?(i=n.createElement("div"),i.id="motify",i.style.cssText="display:none;position: fixed; top: 35%; left: 50%; width: 220px;margin: 0 0 0 -110px; z-index: 9999;background: rgba(0,0,0,0.8); color: #fff; font-size: 14px; line-height: 1.5em; border-radius: 6px;",this.msgDiv=n.createElement("div"),this.msgDiv.style.cssText=" padding: 10px 10px;text-align: center;word-wrap: break-word;",i.appendChild(this.msgDiv),n.body.appendChild(i)):this.msgDiv=i.firstChild,arguments.length>0&&(this.setMsg(t.msg),this.show()),this};r.getUrlParameToJSON=function(){var t=location.search.slice(1).split("&"),n={};return t.forEach(function(t){t=t.split("=");n[t[0]]=decodeURIComponent(t[1]||"")}),n};r.getPosition=function(t,i){var r=sessionStorage.getItem("position"),u,f,e;r!==null?typeof t=="function"&&t(JSON.parse(r)):(u=n.getElementById("loading"),f=n.getElementByI("container"),f.append($loading.removeClass("hidden")),u.querySelector("span").innerText="正在获取地理位置...",e={enableHighAccuracy:!0,timeout:1e4,maximumAge:3e4},navigator.geolocation.getCurrentPosition(function(n){sessionStorage.setItem("position",JSON.stringify(n.coords));typeof t=="function"&&t(n.coord)},function(n){typeof i=="function"&&i(n)},e))};r.timestamp=function(){return Date.parse(new Date)/1e3};r.isMobile=function(){var n=navigator.userAgent||navigator.vendor||t.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(n.substr(0,4))};r.chkMobileNum=function(n){n=n.replace(/^\s*|\s*$/g,"");return/^1[3578][01379]\d{8}$/g.test(n)||/^1[34578][01256]\d{8}$/g.test(n)||/^(134[012345678]\d{7}|1[34578][012356789]\d{8})$/g.test(n)?!0:!1};r.chkMoney=function(n){var t=n.target;t.value=t.value.replace(/[^\d.]/g,"");t.value=t.value.replace(/^\./g,"");t.value=t.value.replace(/\.{2,}/g,".");t.value=t.value.replace(".","$#$").replace(/\./g,"").replace("$#$",".")};r.addFavorite=function(){var n=t.location,i=document.title,r=navigator.userAgent.toLowerCase();if(r.indexOf("360se")>-1)alert("由于360浏览器功能限制，请按 Ctrl+D 手动收藏！");else if(r.indexOf("msie 8")>-1)t.external.AddToFavoritesBar(n,i);else if(document.all)try{t.external.addFavorite(n,i)}catch(u){alert("您的浏览器不支持,请按 Ctrl+D 手动收藏!")}else t.sidebar?t.sidebar.addPanel(i,n,""):alert("您的浏览器不支持,请按 Ctrl+D 手动收藏!")};r.get=function(t){var i=n.getElementById(t);return i||n.querySelector(t)};r.pageIndex=function(n){var t=0;return n>=0?t=n:(t=document.body.getAttribute("data-pageindex"),t=t===null||t===i?1:parseInt(t)+1),document.body.setAttribute("data-pageIndex",t),t};r.parseFormToJson=function(n){var t={};return jQuery&&typeof jQuery=="function"?$(n).serializeArray().map(function(n){t[n.name]?(typeof t[n.name]=="string"&&(t[n.name]=[t[n.name]]),t[n.name].push(n.value)):n.value!==""&&(t[n.name]=n.value)}):alert(" Com.parseFormToJson 需要Jquery支持"),t};r.getCoordinate=function(n){for(var t=0,i=0,r,u;n;)n.tagName==="BODY"?(r=n.scrollLeft||document.documentElement.scrollLeft,u=n.scrollTop||document.documentElement.scrollTop,t+=n.offsetLeft-r+n.clientLeft,i+=n.offsetTop-u+n.clientTop):(t+=n.offsetLeft-n.scrollLeft+n.clientLeft,i+=n.offsetTop-n.scrollTop+n.clientTop),n=n.offsetParent;return{x:t,y:i}};r.setValErrorMsg=function(n,t,i){common.get(t).classList.add("input-validation-error");var r=common.get('span[data-valmsg-for="'+t+'"]');r&&(r.classList.add("field-validation-error"),r.innerHTML='<span id="'+t+'-error" class="">'+i+"<\/span>")};r.clearValErrorMsg=function(n){common.get(n).classList.remove("input-validation-error");var t=common.get('span[data-valmsg-for="'+n+'"]');t&&(t.innerHTML="")};t.common=r}(document,window,undefined);+function(){$(function(){var n="input-validation-error";$(".modal").on("hidden.bs.modal",function(){var t=$(this);t.removeData("bs.modal");t.find("."+n).removeClass(n);t.find(".field-validation-error span").text("")})})}(document,window);